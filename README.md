# highload_avito
### РПЗ по предмету "Проектирование высоконагруженных систем". Технопарк, осень 2021
Авито - интернет-сервис для размещения объявлений о товарах, недвижимости, вакансиях и резюме на рынке труда, а также услугах от частных лиц и компаний [https://ru.wikipedia.org/wiki/%D0%90%D0%B2%D0%B8%D1%82%D0%BE].
#### MVP
Основной функционал сервиса:
* Поиск объявлений (по словам, категориям, в определенном радиусе поиска).
* Просмотр объявления.
* Публикация объявления, его редактирование, удаление.
* Просмотр и редактирование личного профиля (в т.ч. просмотр своих объявлений).
* Чат между покупателем и продавцом.
* Оставление отзыва на продавца.
#### Целевая аудитория
На состояние июня 2021 года месячная аудитория сервиса (desktop&mobile) составляет 41 444.9 тыс. чел. Дневная - 9 989.2 тыс. чел. [https://webindex.mediascope.net/report?byGeo=2&byDevice=3&byDevice=1&byDevice=2&byMonth=202106&id=15828].
Основной целевой аудиторией являтся люди в возрасте от 25 до 44 лет, большей частью специалисты и рабочее население. Сервис ориентирован на жителей РФ.



#### Расчет нагрузки

##### Продуктовые метрики

* **Месячная аудитория** - 41 444.9 тыс. чел
* **Средний размер хранилища пользователя**
У каждого пользователя есть следующие данные:
1. **Личный профиль**, содержащий аватар (~500 Кб размер средней картинки), а также данные - уникальный идентификатор, адрес электронной почты, имя, город, номер телефона, пароль. Всего около 500 б. Тогда личные данные ~512 000 байт.
2. **Чаты**. В среднем, для того, чтобы уточнить вопросы по товару, а также договориться о встрече, требуется около 10 сообщений от одного человека. Каждое сообщение в контексте чата занимает ~100 символов -> 100 байт. Вместе с дополнительной возможной информацией (id получателя и отправителя, время и проч.) получается ~1050 байт на человека.
3. **Объявления**. Срелнее описание товара составляет ~600 символов -> 600 байт + ~20 байт на дополнительную информацию (категория, состояние, продавец и проч.)  => 620 байт. Также в каждом объявлении в среднем содержится 5 изображений. Если взять срелний размер за 500 Кб, то еще 2 560 000 байт. Итого 2 560 620 байт.
4. **Отзывы**. В отзывах ~150 символов + дополнительные данные об отправителе/о ком оставили отзыв. ~170 байт.

Рассчитаем средний размер хранилища. На 19.09.2021 На авито размещено 78 971 675 объявлений => ~2 объявления на человека. Пусть на каждое объявление будет в среднем 3 покупателя, то есть 3 чата => 6 чатов у пользователя. Допустим, что каждый второй пользователь оставляет отзыв после завершения заказа. Тогда общее количество 

На авито 

120 сделок в минуту и 400 000 объявлений в день [https://www.avito.ru/company]



В среднем, пользователь проводит на сайте 9 минут в день  [https://webindex.mediascope.net/report/general-statistics?byDevice=3&byDevice=1&byDevice=2&byGeo=2&byMonth=202106&id=15828].


/// полезная доп инфа, которая будет обработана позднее

В Авито есть лимит на бесплатные объявления (не берем Авито.Работа).
https://support.avito.ru/sections/136?articleId=2158

45 (транспорт) + ~5 (недвижимость) + 1 (услуги) + 67 (для дома и дачи) + 65 (личные вещи) + 197 (электроника) + 86 (хобби и отдых) + 419 (животные) = 885 объявлений на человека.

учитывая, сколько обычно бывает объявлений у человека, можно взять это число как усредненное с платными объявлениями.

